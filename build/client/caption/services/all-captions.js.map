{"version":3,"sources":["../../../../src/client/caption/services/all-captions.js"],"names":["displayAllCaptions","cb1","cb2","api","get","then","captions","forEach","table","document","getElementById","rowCaption","createElement","cellTopText","cellBottomText","cellButtons","editButton","deleteButton","innerHTML","className","addEventListener","caption","_id","topText","bottomText","appendChild","setAttribute","style","backgroundColor","background","console","log","innerText"],"mappings":";;;;;;AAAA;;AAEA,SAASA,kBAAT,CAA4BC,GAA5B,EAAiCC,GAAjC,EAAsC;AAClCC,2BAAIC,GAAJ,CAAQ,UAAR,EAAoBC,IAApB,CAAyB,oBAAY;AACjCC,iBAASC,OAAT,CAAiB,mBAAW;AACxB,gBAAMC,QAAQC,SAASC,cAAT,CAAwB,eAAxB,CAAd;AACA,gBAAMC,aAAaF,SAASG,aAAT,CAAuB,IAAvB,CAAnB;AACA,gBAAMC,cAAcJ,SAASG,aAAT,CAAuB,IAAvB,CAApB;AACA;AACA,gBAAME,iBAAiBL,SAASG,aAAT,CAAuB,IAAvB,CAAvB;AACA;AACA,gBAAMG,cAAcN,SAASG,aAAT,CAAuB,IAAvB,CAApB;;AAEA,gBAAMI,aAAaP,SAASG,aAAT,CAAuB,QAAvB,CAAnB;AACA,gBAAMK,eAAeR,SAASG,aAAT,CAAuB,QAAvB,CAArB;;AAEAI,uBAAWE,SAAX,GAAuB,MAAvB;AACAD,yBAAaC,SAAb,GAAyB,QAAzB;;AAEAF,uBAAWG,SAAX,GAAuB,UAAvB;AACAF,yBAAaE,SAAb,GAAyB,YAAzB;;AAEAF,yBAAaG,gBAAb,CAA8B,OAA9B,EAAuC,YAAM;;AAEzC;AACAnB,oBAAIoB,QAAQC,GAAZ;AACH,aAJD;;AAMAT,wBAAYK,SAAZ,QAA2BG,QAAQE,OAAnC;AACAT,2BAAeI,SAAf,QAA8BG,QAAQG,UAAtC;;AAGAT,wBAAYU,WAAZ,CAAwBT,UAAxB;AACAD,wBAAYU,WAAZ,CAAwBR,YAAxB;;AAEAD,uBAAWI,gBAAX,CAA4B,OAA5B,EAAqC,YAAM;AACvC,oBAAIJ,WAAWE,SAAX,IAAwB,MAA5B,EAAoC;AAChCL,gCAAYa,YAAZ,CAAyB,iBAAzB,EAA4C,MAA5C;AACAZ,mCAAeY,YAAf,CAA4B,iBAA5B,EAA+C,MAA/C;AACAb,gCAAYc,KAAZ,CAAkBC,eAAlB,GAAoC,QAApC;AACAd,mCAAea,KAAf,CAAqBC,eAArB,GAAuC,QAAvC;AACAZ,+BAAWE,SAAX,GAAuB,MAAvB;AACAF,+BAAWW,KAAX,CAAiBE,UAAjB,GAA8B,QAA9B;AACAC,4BAAQC,GAAR,CAAY,MAAZ;AACH,iBARD,MAUK,IAAIf,WAAWE,SAAX,IAAwB,MAA5B,EAAoC;AACrCY,4BAAQC,GAAR,CAAY,SAAZ;AACAlB,gCAAYa,YAAZ,CAAyB,iBAAzB,EAA4C,OAA5C;AACAZ,mCAAeY,YAAf,CAA4B,iBAA5B,EAA+C,OAA/C;AACAb,gCAAYc,KAAZ,CAAkBC,eAAlB,GAAoC,SAApC;AACAd,mCAAea,KAAf,CAAqBC,eAArB,GAAuC,SAAvC;AACAZ,+BAAWE,SAAX,GAAuB,MAAvB;AACAF,+BAAWW,KAAX,CAAiBE,UAAjB,GAA8B,OAA9B;;AAEA3B,wBAAImB,QAAQC,GAAZ,EAAiBT,YAAYmB,SAA7B,EAAwClB,eAAekB,SAAvD;AACH;AACDF,wBAAQC,GAAR,CAAY,MAAZ;AAGH,aAzBD;;AA2BApB,uBAAWc,WAAX,CAAuBZ,WAAvB;AACAF,uBAAWc,WAAX,CAAuBX,cAAvB;AACAH,uBAAWc,WAAX,CAAuBV,WAAvB;;AAEAP,kBAAMiB,WAAN,CAAkBd,UAAlB;AACH,SA/DD;AAgEH,KAjED;AAmEH;;kBAGcX,kB","file":"all-captions.js","sourcesContent":["import { apiService as api } from \"../../api/api.service.js\";\n\nfunction displayAllCaptions(cb1, cb2) {\n    api.get('captions').then(captions => {\n        captions.forEach(caption => {\n            const table = document.getElementById('caption-table')\n            const rowCaption = document.createElement('tr')\n            const cellTopText = document.createElement('td')\n            // cellTopText.setAttribute('contenteditable', 'false')\n            const cellBottomText = document.createElement('td')\n            // cellBottomText.setAttribute('contenteditable', 'false')\n            const cellButtons = document.createElement('td')\n\n            const editButton = document.createElement('button')\n            const deleteButton = document.createElement('button')\n\n            editButton.innerHTML = \"Edit\"\n            deleteButton.innerHTML = \"Delete\"\n\n            editButton.className = \"edit-btn\"\n            deleteButton.className = \"delete-btn\"\n\n            deleteButton.addEventListener('click', () => {\n\n                //callback\n                cb1(caption._id)\n            })\n\n            cellTopText.innerHTML = `${caption.topText}`\n            cellBottomText.innerHTML = `${caption.bottomText}`\n\n\n            cellButtons.appendChild(editButton)\n            cellButtons.appendChild(deleteButton)\n\n            editButton.addEventListener('click', () => {\n                if (editButton.innerHTML == 'Edit') {\n                    cellTopText.setAttribute('contenteditable', 'true');\n                    cellBottomText.setAttribute('contenteditable', 'true');\n                    cellTopText.style.backgroundColor = 'yellow'\n                    cellBottomText.style.backgroundColor = 'yellow'\n                    editButton.innerHTML = 'Save'\n                    editButton.style.background = 'Yellow'\n                    console.log('Edit');\n                }\n\n                else if (editButton.innerHTML == 'Save') {\n                    console.log('I Saved');\n                    cellTopText.setAttribute('contenteditable', 'false');\n                    cellBottomText.setAttribute('contenteditable', 'false');\n                    cellTopText.style.backgroundColor = '#fddaff'\n                    cellBottomText.style.backgroundColor = '#fddaff'\n                    editButton.innerHTML = 'Edit'\n                    editButton.style.background = 'Green'\n\n                    cb2(caption._id, cellTopText.innerText, cellBottomText.innerText)\n                }\n                console.log('Done');\n\n                \n            })\n\n            rowCaption.appendChild(cellTopText)\n            rowCaption.appendChild(cellBottomText)\n            rowCaption.appendChild(cellButtons)\n\n            table.appendChild(rowCaption)\n        })\n    })\n\n}\n\n\nexport default displayAllCaptions\n\n\n\n\n\n\n\n\n"]}