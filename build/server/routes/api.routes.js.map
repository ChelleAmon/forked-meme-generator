{"version":3,"sources":["../../../src/server/routes/api.routes.js"],"names":["apiRouter","express","Router","use","captionRouter","req","res","next","locals","data","console","log","status","json","err","name","send","all","sendStatus"],"mappings":";;;;;;;AAAA;;;;AACA;;;;AACO,IAAMA,gCAAYC,kBAAQC,MAAR,EAAlB;;AAEPF,UAAUG,GAAV,CAAc,MAAd,EAAsBC,2BAAtB;;AAEAJ,UAAUG,GAAV,CAAc,UAACE,GAAD,EAAKC,GAAL,EAAUC,IAAV,EAAmB;AAC7B,QAAGD,IAAIE,MAAJ,CAAWC,IAAd,EAAmB;AACfC,gBAAQC,GAAR,CAAYL,IAAIE,MAAJ,CAAWC,IAAvB;AACAH,YAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACJ,MAAMH,IAAIE,MAAJ,CAAWC,IAAlB,EAArB;AAEH,KAJD,MAIK;AACDF;AACH;AACJ,CARD;;AAUAP,UAAUG,GAAV,CAAc,UAACW,GAAD,EAAKT,GAAL,EAAWC,GAAX,EAAgBC,IAAhB,EAAyB;AACnC,QAAGO,IAAIC,IAAJ,KAAa,iBAAhB,EAAkC;AAC9BT,YAAIM,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqBF,GAArB;AACH;AACDR,QAAIM,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqBF,GAArB;AACH,CALD;;AAOAd,UAAUiB,GAAV,CAAc,IAAd,EAAoB,UAACZ,GAAD,EAAMC,GAAN,EAAc;AAC9BI,YAAQC,GAAR,CAAY,WAAZ;AACAL,QAAIY,UAAJ,CAAe,GAAf;AACH,CAHD","file":"api.routes.js","sourcesContent":["import express from 'express';\nimport { captionRouter } from './caption.route.js'\nexport const apiRouter = express.Router();\n\napiRouter.use('/api', captionRouter)\n\napiRouter.use((req,res, next) => {\n    if(res.locals.data){\n        console.log(res.locals.data)\n        res.status(200).json({data: res.locals.data});\n\n    }else{\n        next();\n    }\n})\n\napiRouter.use((err,req,  res, next) => {\n    if(err.name === 'ValidationError'){\n        res.status(400).send(err);\n    }\n    res.status(500).send(err)\n})\n\napiRouter.all(\"/*\", (req, res) => {\n    console.log(\"Not Found\");\n    res.sendStatus(404)\n})"]}